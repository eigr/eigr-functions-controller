---
apiVersion: functions.eigr.io/v1
kind: Function
metadata:
  name: simple-function
spec:
  backend:
    image: cloudstateio/cloudstate-python-tck:latest
    language: python # Optional. Default is none.This parameter is only used to define the defaults resource limits of a user container.
    runtime: grpc # Optional. Default grpc. Currently only one `grpc` runtime is provided, in the future we will support webassembly/wasm runtimes    
    cookie: "my-namespaced-cluster-secret" # Cookie to authenticated with others functions in same namespace. Optional. Default is generated by operator.
    autoscaler:
      strategy: hpa 
      minReplicas: 1 
      maxReplicas: 100 
      averageCpuUtilizationPercentage: 80 
      averageMemoryUtilizationValue: 100Mi 
    resources: 
      requests:
        cpu: 100m
        memory: 100Mi
      limits:
        cpu: 100m
        memory: 100Mi
    portBindings: # Optional
      type: grpc # uds, grpc
      port: 8080 
      socketPath: /var/run/eigr/functions.sock # Optional. Default is none. Only used if type is uds
